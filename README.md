# thudong-mcp-claude

MCP Server สำหรับ RAG ข้อมูลแบบสอบถาม **"หลังการสอบภาคสนามธุดงค์"**

- **สถานที่:** วัดป่าร้อยปีหลวงพ่อวิริยังค์ จ.ราชบุรี
- **วันที่:** 12-15 ธันวาคม พ.ศ. 2568

## Features

- ค้นหาความคิดเห็นด้วย Full-Text Search (FTS5)
- สถิติความพึงพอใจรายหมวด
- เปรียบเทียบระหว่างกลุ่มผู้ตอบ
- รองรับทั้ง stdio และ SSE transport

## Quick Stats

| รายการ | จำนวน |
|--------|-------|
| ผู้ตอบทั้งหมด | 804 คน |
| นักศึกษาสอบภาคสนาม | 690 คน (85.8%) |
| คณะทำงาน | 105 คน (13.1%) |
| ผู้สังเกตการณ์ | 9 คน (1.1%) |
| ข้อความ "ประทับใจ" | 660 รายการ |
| ข้อความ "ข้อเสนอแนะ" | 510 รายการ |

## Installation (Docker)

```bash
# Clone repository
git clone https://github.com/monthop-gmail/thudong-mcp-claude.git
cd thudong-mcp-claude

# Build Docker image
docker build -t thudong-mcp-claude .
```

## Usage

### stdio mode (for Claude Desktop/Code)

```bash
docker run -i --rm thudong-mcp-claude
```

### SSE mode (for web clients)

```bash
docker run -p 3000:3000 thudong-mcp-claude node src/server-sse.js
```

## Claude Desktop Configuration

เพิ่มใน `~/.claude/settings.json`:

```json
{
  "mcpServers": {
    "thudong": {
      "command": "docker",
      "args": ["run", "-i", "--rm", "thudong-mcp-claude"]
    }
  }
}
```

## MCP Tools

| Tool | Description |
|------|-------------|
| `search_feedback` | ค้นหาข้อความจาก "ประทับใจ" และ "ข้อเสนอแนะ" ด้วย FTS5 |
| `get_statistics` | สรุปสถิติความพึงพอใจรายหมวด |
| `get_survey_overview` | แสดงภาพรวมจำนวนผู้ตอบและข้อมูลสรุป |
| `get_improvements` | รวบรวมข้อเสนอแนะ/สิ่งที่ควรปรับปรุง |
| `get_impressions` | รวบรวมสิ่งที่ประทับใจ |
| `compare_groups` | เปรียบเทียบความพึงพอใจระหว่างกลุ่มผู้ตอบ |

## Example Prompts

### ภาพรวมและสถิติ
- "แสดงภาพรวมแบบสอบถามธุดงค์"
- "สรุปความพึงพอใจด้านสิ่งอำนวยความสะดวก"
- "สถิติความพึงพอใจหมวดการจัดงาน เฉพาะนักศึกษา"

### ค้นหาความคิดเห็น
- "มีคนพูดถึงห้องน้ำอะไรบ้าง"
- "ค้นหาความเห็นเกี่ยวกับอาหาร"
- "หาข้อเสนอแนะที่เกี่ยวกับที่พัก"

### สิ่งประทับใจและข้อเสนอแนะ
- "รวมสิ่งที่ประทับใจเกี่ยวกับพี่เลี้ยง"
- "รวมข้อเสนอแนะเรื่องกำหนดการ"
- "ข้อเสนอแนะเกี่ยวกับสถานที่มีอะไรบ้าง"

### เปรียบเทียบกลุ่ม
- "เปรียบเทียบความพึงพอใจด้านสิ่งอำนวยความสะดวก ระหว่างนักศึกษากับคณะทำงาน"
- "เปรียบเทียบคะแนนการจัดงานระหว่างกลุ่มผู้ตอบ"

### วิเคราะห์เชิงลึก
- "วิเคราะห์จุดแข็งและจุดอ่อนของการจัดงานธุดงค์"
- "สรุปประเด็นที่ต้องปรับปรุงสำหรับปีหน้า"
- "อะไรคือสิ่งที่ผู้เข้าร่วมประทับใจมากที่สุด"

## Data Structure

### 4 หมวดหลัก

1. **ความรู้ที่ได้รับ** (8 ข้อ) - เฉพาะนักศึกษา
2. **คุณธรรมจริยธรรม** (8 ข้อ) - เฉพาะนักศึกษา
3. **การจัดงาน** (6 ข้อ) - ทุกกลุ่ม
4. **สิ่งอำนวยความสะดวก** (6 ข้อ) - ทุกกลุ่ม
5. **ข้อความอิสระ** (2 ข้อ) - สิ่งประทับใจ, ข้อเสนอแนะ

## Tech Stack

- **Runtime:** Node.js 20
- **MCP SDK:** @modelcontextprotocol/sdk
- **Database:** SQLite + FTS5

## License

MIT

## Related

- [สถาบันพลังจิตตานุภาพ](https://samathi101.com)
- [Model Context Protocol](https://modelcontextprotocol.io)
